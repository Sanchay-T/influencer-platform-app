# CLAUDE.md

## Context
This folder (`drizzle/`) contains database migrations and related config.
- **Main Schema:** Located in `../lib/db/schema.ts`. **This is the source of truth.**
- **Migrations:** SQL files generated by Drizzle Kit.
- **Config:** `../drizzle.config.ts` controls the setup.

## Patterns
- **Migration Generation:** Run `npm run db:generate` to create new SQL files from schema changes.
- **Migration Application:** Run `npm run db:migrate` to apply changes to the DB.
- **Studio:** Run `npm run db:studio` to view data.

## Caution Zones
- **Do not** edit `.sql` files manually unless you know what you are doing.
- **Do not** modify `schema.ts` in this folder if it conflicts with `lib/db/schema.ts`. Check `drizzle.config.ts`.

## Do Not
- **Do not** commit secrets in migrations.
- **Do not** run destructive migrations on production without backup.
